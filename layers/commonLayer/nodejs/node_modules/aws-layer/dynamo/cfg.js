module.exports = (() => {
    const CFG = {};
    switch (true) {
        case "true" === process.env.AWS_SAM_LOCAL:
            // this is a `sam local start-api` instance
            CFG.endpoint = "http://dynamodb-local:8000";
            break;
        case "AWS_LAMBDA_FUNCTION_NAME" in process.env:
            // this is a cloud instance
            break;
        default:
            // this is a direct invocation
            CFG.apiVersion = '2012-08-10';
            CFG.region = require('aws-sdk').config.region
                || process.env.AWS_REGION
                || "eu-west-2"
            ;
            CFG.endpoint = "http://localhost:8000";
            break;
    }
    return CFG;
})();
