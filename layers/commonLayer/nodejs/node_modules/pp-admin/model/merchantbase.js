const { Q } = require('pp-mysql/client').shorthands();
const { SEARCH, FIELD, Model } = require('./model');

/// Merchant base data
class MerchantBase extends Model {

    static table = 'merchant';///< DB table

    /// API field => DB field
    static api2db = {
        [this.ID]: {// Integer ID of merchant
            [FIELD.DBFIELD]: '_rowid',
        },
        [this.SID]: {// String ID of merchant
            [FIELD.DBFIELD]: 'merchant',
            [FIELD.READONLY]: true,
        },
        'name': {// Name of merchant
            [FIELD.DBFIELD]: 'merchantName',
        },
        'link': {// Link to merchant site
            [FIELD.DBFIELD]: 'link',
        },
    };

    /// Search parameters
    static search = {
        [this.SID]: {// String ID of merchant
            [SEARCH.WEQ]: 200,// Weight of search word (EQ)ual field
            [SEARCH.WIEQ]: 100,// Weight of search word (I)ndepend case (EQ)ual field
            [SEARCH.WHAS]: 50,// Weight of field (HAS) search word inside
            [SEARCH.WIHAS]: 50,// Weight of field (I)ndepend case (HAS) search word inside
        },
        'name': {// Name of merchant
            [SEARCH.WEQ]: 200,// Weight of search word (EQ)ual field
            [SEARCH.WIEQ]: 100,// Weight of search word (I)ndepend case (EQ)ual field
            [SEARCH.WHAS]: 50,// Weight of field (HAS) search word inside
            [SEARCH.WIHAS]: 50,// Weight of field (I)ndepend case (HAS) search word inside
        },
    };
}

module.exports = { MerchantBase };
